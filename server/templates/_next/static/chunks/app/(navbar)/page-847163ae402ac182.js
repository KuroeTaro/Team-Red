(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{8458:function(e,t,A){Promise.resolve().then(A.bind(A,2940))},2940:function(e,t,A){"use strict";A.r(t),A.d(t,{default:function(){return c}});var s=A(7437);A(9285);var n=A(2265),a=A(703),l={src:"/_next/static/media/doggo.42daffa6.jpg",height:1197,width:1200,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAAAgX/2gAMAwEAAhADEAAAALAjr//EABoQAQEAAgMAAAAAAAAAAAAAAAECERIABCH/2gAIAQEAAT8AO7tvm5JIEE9azz//xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQIBAT8Acjf/xAAXEQADAQAAAAAAAAAAAAAAAAAAAiJS/9oACAEDAQE/AJwp/9k=",blurWidth:8,blurHeight:8};A(6012);var i=e=>{let{id:t,username:A,content:l,file:i,createPostFunc:c}=e,[o,r]=(0,n.useState)(0),[h,d]=(0,n.useState)(!1);async function u(){await fetch("/api/like",{method:"POST",body:JSON.stringify({id:t})}).then(()=>{x()})}async function x(){let e=await fetch("/api/getLike?id=".concat(t),{method:"GET"});200==e.status&&d((await e.json()).liked)}return(0,n.useEffect)(()=>{x()}),(0,s.jsxs)("div",{className:"post-element",children:[(0,s.jsxs)("div",{className:"user-profile",children:[(0,s.jsx)(a.default,{src:"https://www.svgrepo.com/show/347900/person.svg",width:100,height:100,alt:"Person"}),(0,s.jsx)("p",{children:A})]}),(0,s.jsxs)("div",{className:"post-content",children:[(0,s.jsx)("p",{children:l}),""==i?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("img",{src:"http://143.198.161.74:8080/media/"+i})})]}),(0,s.jsx)("div",{className:"footer",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:u,children:"Liked"}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{c()},children:"Create Post"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:u,children:"Like"}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{c()},children:"Create Post"})]})})]})},c=()=>{let[e,t]=(0,n.useState)(0),[A,c]=(0,n.useState)([]),[o,r]=(0,n.useState)(!1),[h,d]=(0,n.useState)(""),[u,x]=(0,n.useState)(!1),[g,m]=(0,n.useState)(null);async function j(){let e=await fetch("/api/getPOST",{method:"GET"});200==e.status&&c(await e.json())}async function f(){let e=await fetch("/api/authenticate",{method:"GET"});200==e.status&&(await e.json(),x(!0))}function p(){r(!0)}async function E(e){e.preventDefault();let t=new FormData;g&&t.append("file",g),t.append("content",h),await fetch("/api/createPOST",{method:"POST",body:t}).then(()=>{j(),d(""),m(null)}),r(!o)}(0,n.useEffect)(()=>{f(),j()},[]);let C=async e=>{var t;let A=null===(t=e.target.files)||void 0===t?void 0:t[0];A&&m(A)};return(0,s.jsx)("main",{children:(0,s.jsx)("div",{className:"homepage",children:u?(0,s.jsx)("div",{className:"postsPage",children:o?(0,s.jsxs)("form",{className:"postForm",encType:"multipart/form-data",children:[(0,s.jsx)("label",{children:(0,s.jsx)("textarea",{className:"content-input",placeholder:"Enter your post content here...",onChange:e=>d(e.target.value),rows:4,cols:50})}),(0,s.jsxs)("div",{className:"post-button-container",children:[(0,s.jsx)("label",{children:(0,s.jsx)("input",{type:"file",onChange:C})}),(0,s.jsx)("label",{children:(0,s.jsx)("button",{className:"btn text-xl",onClick:e=>{E(e)},children:"Submit Post"})})]})]}):A.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{let s;(s=e)-1<0?s=A.length-1:s-=1,t(s)},children:"<"}),(0,s.jsx)(i,{id:A[e].id,username:A[e].username,content:A[e].content,file:A[e].file,createPostFunc:p}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{let s;(s=e)+1>=A.length?s=0:s+=1,t(s)},children:">"})]}):(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{p()},children:"Create Post"})}):(0,s.jsxs)("div",{className:"home-section",children:[(0,s.jsx)(a.default,{className:"doggoPicture",src:l,alt:"Dog Picture"}),(0,s.jsx)("h1",{className:"text-2xl",children:"Welcome to Jinder!"})]})})})}},9285:function(){},6012:function(){}},function(e){e.O(0,[703,416,971,69,744],function(){return e(e.s=8458)}),_N_E=e.O()}]);