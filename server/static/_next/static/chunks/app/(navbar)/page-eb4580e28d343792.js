(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{8458:function(t,e,A){Promise.resolve().then(A.bind(A,2940))},2940:function(t,e,A){"use strict";A.r(e),A.d(e,{default:function(){return l}});var s=A(7437);A(9285);var n=A(2265),a=A(703),c={src:"/_next/static/media/doggo.42daffa6.jpg",height:1197,width:1200,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAAAgX/2gAMAwEAAhADEAAAALAjr//EABoQAQEAAgMAAAAAAAAAAAAAAAECERIABCH/2gAIAQEAAT8AO7tvm5JIEE9azz//xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQIBAT8Acjf/xAAXEQADAQAAAAAAAAAAAAAAAAAAAiJS/9oACAEDAQE/AJwp/9k=",blurWidth:8,blurHeight:8};A(6012);var i=t=>{let{id:e,username:A,content:c,createPostFunc:i}=t,[l,o]=(0,n.useState)(0),[r,h]=(0,n.useState)(!1);async function u(){await fetch("/api/like",{method:"POST",body:JSON.stringify({id:e})}).then(()=>{d()})}async function d(){let t=await fetch("/api/getLike?id=".concat(e),{method:"GET"});200==t.status&&h((await t.json()).liked)}return(0,n.useEffect)(()=>{d()}),(0,s.jsxs)("div",{className:"post-element",children:[(0,s.jsxs)("div",{className:"user-profile",children:[(0,s.jsx)(a.default,{src:"https://www.svgrepo.com/show/347900/person.svg",width:100,height:100,alt:"Person"}),(0,s.jsx)("p",{children:A})]}),(0,s.jsx)("div",{className:"post-content",children:c}),(0,s.jsx)("div",{className:"footer",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:u,children:"Liked"}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{i()},children:"Create Post"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:u,children:"Like"}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{i()},children:"Create Post"})]})})]})},l=()=>{let[t,e]=(0,n.useState)(0),[A,l]=(0,n.useState)([]),[o,r]=(0,n.useState)(!1),[h,u]=(0,n.useState)(""),[d,x]=(0,n.useState)(!1);async function g(){let t=await fetch("/api/getPOST",{method:"GET"});200==t.status&&l(await t.json())}async function m(){let t=await fetch("/api/authenticate",{method:"GET"});200==t.status&&(await t.json(),x(!0))}function j(){r(!0)}async function f(t){t.preventDefault(),await fetch("/api/createPOST",{method:"POST",body:JSON.stringify({content:h})}).then(()=>{g()}),r(!o)}return(0,n.useEffect)(()=>{m(),g()},[]),(0,s.jsx)("main",{children:(0,s.jsx)("div",{className:"homepage",children:d?(0,s.jsx)("div",{className:"postsPage",children:o?(0,s.jsxs)("form",{className:"postForm",children:[(0,s.jsx)("label",{children:(0,s.jsx)("textarea",{className:"content-input",placeholder:"Enter your post content here...",onChange:t=>u(t.target.value),rows:4,cols:50})}),(0,s.jsx)("label",{children:(0,s.jsx)("button",{className:"btn text-xl",onClick:t=>{f(t)},children:"Submit Post"})})]}):A.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{let s;(s=t)-1<0?s=A.length-1:s-=1,e(s)},children:"<"}),(0,s.jsx)(i,{id:A[t].id,username:A[t].username,content:A[t].content,createPostFunc:j}),(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{let s;(s=t)+1>=A.length?s=0:s+=1,e(s)},children:">"})]}):(0,s.jsx)("button",{className:"btn text-xl",onClick:()=>{j()},children:"Create Post"})}):(0,s.jsxs)("div",{className:"home-section",children:[(0,s.jsx)(a.default,{className:"doggoPicture",src:c,alt:"Dog Picture"}),(0,s.jsx)("h1",{className:"text-2xl",children:"Welcome to Jinder!"})]})})})}},9285:function(){},6012:function(){}},function(t){t.O(0,[703,416,971,69,744],function(){return t(t.s=8458)}),_N_E=t.O()}]);